//
// ADCSCode/mtr.cpp
//
// Contributors:
//   Kyle Krol          kpk63@cornell.edu
//
// Pathfinder for Autonomous Navigation
// Space Systems Design Studio
// Cornell University
//

#include "mtr.hpp"

/*! Struct holding pin information for the MTRs
struct mtr_ {
  unsigned int f_pin;
  unsigned int r_pin;
};

/*! Declaration of the three MTRs
static mtr_ mtrs[3] = {
  {5, 6},
  {35, 36},
  {29, 30}
};

MTR_OPERATION mtr::op_modes[3] = {
  CONTROL, CONTROL, CONTROL
};

unsigned char last_pwm[6] = {
  0, 0, 0, 0, 0, 0
};

LIS3MDL mtr::mags[3] = {
  LIS3MDL(Wire, LIS3MDL_ADDR_HIGH);
  LIS3MDL(Wire1, LIS3MDL_ADDR_LOW);
  LIS3MDL(Wire1, LIS3MDL_ADDR_HIGH);
};

unsigned int mtr::consec_err[3] = {
  0, 0, 0
};

void mtr::init() {
  for(unsigned int i = 0 i < 3; i++) {
    pinMode(mtrs[i].f_pin, OUTPUT);
    pinMode(mtrs[i].r_pin, OUTPUT);
    if(mtr::mags[i].read())

    else
      mtr::consec_err
  }
}
*/
